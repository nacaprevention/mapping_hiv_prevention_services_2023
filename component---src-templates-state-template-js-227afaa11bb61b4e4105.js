"use strict";(self.webpackChunkmapping_hiv_prevention_services_nigeria_2023=self.webpackChunkmapping_hiv_prevention_services_nigeria_2023||[]).push([[921],{9141:function(e,t,a){a.r(t),a.d(t,{default:function(){return v}});var n=a(7294),l=a(2912);var r=e=>{let{stateName:t,setCurrentHeading:a}=e;const r=(0,n.useRef)(null);return(0,n.useEffect)((()=>{const e=l.Ys(r.current),n=l.mw4().translate([400,250]),s=l.l49().projection(n),o=l.ut0().domain([1,6,11,21,31]).range(["#76ff0d","#a0d492","#78b971","#60a455","#3e8d00","#008000"]),i=function(e){return e?"../"+e.replace(/\s+/g,"_").toLowerCase()+".geojson":(console.warn("getStateGeoJSONPath was called with an undefined or null stateName."),"")}(t);(async()=>{try{const r=await l.AVB(i),c=s.bounds(r),m=l.cSP(r),d=c[1][0]-c[0][0],p=c[1][1]-c[0][1],u=.1/Math.max(d/800,p/800)*800;n.scale(u).center(m);const g=await l.gyn("/service_providers.csv");r.features.forEach((e=>{const t=g.find((t=>t.lga_name===e.properties.lga_name));t&&(e.properties.currentValue=+t.lga_name)})),e.selectAll("path").remove(),e.append("g").selectAll("path").data(r.features).enter().append("path").attr("d",s).attr("fill",(e=>{const t=e.properties.currentValue;return void 0===t?(console.error("Missing value for lga: "+e.properties.lga_name),"#878787"):o(t)})).attr("stroke","#FFFFFF").on("mouseover",(function(e,t){l.Ys(this).attr("fill","#B11B10"),a(t.properties.lga_name)})).on("mouseout",(function(e,n){l.Ys(this).attr("fill",o(n.properties.currentValue)),a(t)})).on("click",(function(e,a){const n="/state/"+t.toLowerCase().replace(/\s+/g,"-")+"/"+a.properties.lga_name.toLowerCase().replace(/\s+/g,"-")+"/";window.location.href=n}))}catch(r){console.log("Failed loading data for state "+t+".",r)}})()}),[t]),n.createElement("div",{className:"state-map"},n.createElement("div",{className:"map_position"},n.createElement("svg",{ref:r,width:800,height:800})))},s=a(5241),o=a(2315),i=a(682),c=a(4051),m=a(1555),d=a(2891),p=a(4160);const u=["All Services","Condom Distribtion","Family Life and HIV/AIDS Education (FLHE)/Sexuality Education","Gender and Human Rights (GHR)","Harm Reduction: Medication-Assisted Treatment (MAT)","Harm Reduction: Needle and Syringe Exchange","HIV Self-Testing (HIVST)","HIV Testing Services (HTS)","Mental Health Services","Pre-Exposure Prophylaxis (PrEP)","Social and Behaviour Change Communication (SBCC)","STI Screening and Treatment","Technical Assistance (TA)"],g=["All Populations","AGYW in school","AGYW out of school","ABYM in school","ABYM out of school","Children living with HIV","General population","HIV-exposed infants","IDP","KP_FSW","KP_MSM","KP_people in enclosed settings","KP_PWID","KP_transgender","OVC","Parents","People living with disabilities","PLHIV","Serodiscordant couples","Teachers","Faith Leaders","Fishermen","Pastoralists","Transport Workers"],h=["All Locations","Community","Facility"];var v=e=>{var t;let{data:a}=e;const l=null===(t=a.allServiceProvidersCsv.nodes[0])||void 0===t?void 0:t.state,{0:v,1:E}=(0,n.useState)(l||"N/A");console.log("State Name in StateTemplate:",l);const[_,f]=n.useState(u[0]),[S,w]=n.useState(g[0]),[A,C]=n.useState(h[0]),[P,N]=n.useState("All LGAs");return n.createElement("div",{className:"state-map"},n.createElement("div",{className:"header-container"},n.createElement("img",{src:d.Z,alt:"NACA Logo",className:"logo"}),n.createElement("span",{className:"welcome-text"},"Mapping HIV Prevention Services, 2023"),n.createElement("span",{className:"separator"}," - "),n.createElement("span",{className:"current-heading"},v)),n.createElement(i.Z,null,n.createElement(c.Z,{className:"row"},n.createElement(m.Z,{sm:8},n.createElement(r,{stateName:l,setCurrentHeading:E,currentHeading:v})),n.createElement(m.Z,{sm:4},n.createElement("h2",null,"Filter by:"),n.createElement("h3",null,"Local Government Area (LGA)"),n.createElement(o.Z,{id:"dropdown-basic-button_filter_lga",title:P,className:"scrollable-dropdown"},n.createElement(s.Z.Item,{key:"All LGAs",onClick:()=>N("All LGAs")},"All LGAs"),a.allServiceProvidersCsv.nodes.map((e=>n.createElement(s.Z.Item,{key:e.lga_name,onClick:()=>{N(e.lga_name),(0,p.c4)("/state/"+l.toLowerCase().replace(/\s+/g,"-")+"/"+e.lga_name.toLowerCase().replace(/\s+/g,"-")+"/")}},e.lga_name)))),n.createElement("h3",null,"Service"),n.createElement(o.Z,{id:"dropdown-basic-button_filter_service",title:_,className:"scrollable-dropdown"},u.map((e=>n.createElement(s.Z.Item,{key:e,onClick:()=>f(e)},e)))),n.createElement("h3",null,"Target Population"),n.createElement(o.Z,{id:"dropdown-basic-button_filter_population",title:S,className:"scrollable-dropdown"},g.map((e=>n.createElement(s.Z.Item,{key:e,onClick:()=>w(e)},e)))),n.createElement("h3",null,"Location"),n.createElement(o.Z,{id:"dropdown-basic-button_filter_location",title:A,className:"scrollable-dropdown"},h.map((e=>n.createElement(s.Z.Item,{key:e,onClick:()=>C(e)},e))))))))}}}]);
//# sourceMappingURL=component---src-templates-state-template-js-227afaa11bb61b4e4105.js.map
